definitions:
  models.AvgMetrics:
    properties:
      cpu_percent:
        type: number
      mem_percent:
        type: number
    type: object
  models.Metrics:
    properties:
      cpu_percent:
        type: number
      created_at:
        type: string
      id:
        type: string
      mem_percent:
        type: number
    type: object
info:
  contact: {}
paths:
  /health:
    get:
      description: Returns service status
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Check service health
      tags:
      - Health
  /metrics:
    get:
      consumes:
      - application/json
      description: Fetch metrics collected between start and end timestamps.
      parameters:
      - description: Start timestamp (RFC3339 format, e.g., 2025-02-22T00:00:00Z)
        in: query
        name: start
        required: true
        type: string
      - description: End timestamp (RFC3339 format, e.g., 2025-02-22T23:59:59Z)
        in: query
        name: end
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Metrics'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get Metrics By Time Range
      tags:
      - Metrics
  /metrics/:
    get:
      consumes:
      - application/json
      description: Get paginated metrics data
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Number of items per page
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Metrics'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Retrieve all collected metrics
      tags:
      - Metrics
  /metrics/average:
    get:
      consumes:
      - application/json
      description: Retrieve average CPU and memory usage between start and end timestamps
      parameters:
      - description: Start timestamp (RFC3339 format)
        in: query
        name: start
        required: true
        type: string
      - description: End timestamp (RFC3339 format)
        in: query
        name: end
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AvgMetrics'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get average CPU and memory usage in a time range
      tags:
      - Metrics
swagger: "2.0"
